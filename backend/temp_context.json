[
  {
    "file": "README.md",
    "content": "# Gitman\n\nA conversational AI tool for understanding GitHub repositories. Ask questions about any codebase using text or voice.\n\n## Features\nDemo video: https://www.loom.com/share/fa91acc50de6443da962f09761e02803?sid=4f6abb88-2520-42d6-846e-ba4a0b28e757  \n- \ud83d\udd0d Analyze any public GitHub repository\n- \ud83d\udcac Ask questions about the code in natural language  \n- \ud83c\udf99\ufe0f Voice interface for hands-free interaction\n- \ud83e\udd16 Powered by Google's Gemini AI\n\n## Getting Started\n\n### Prerequisites\n\n- Node.js 18+\n- Python 3.8+\n- Chrome/Chromium browser\n- Google API key\n\n### Installation\n\n1. Clone and install dependencies:\n\n```bash\ngit clone https://github.com/yourusername/gitman.git\ncd gitman\nnpm install\n```\n\n2. Set up environment variables:\n\nCreate `backend/.env`:\n```bash\nGOOGLE_API_KEY=your_google_api_key\n```\n\n3. Start the servers:\n\n```bash\ncd frontend\nnpm install\nnpm run dev\n```\n\n```bash\ncd backend\npip install -r requirements.txt\npython app.py\n```\n4. Open http://localhost:3000\n\n## Usage\n\n1. Enter a GitHub repository URL\n2. Wait for analysis to complete\n3. Ask questions about the codebase:\n   - Type in the chat input\n   - Or use voice with the microphone button\n4. Get AI-powered explanations about the code\n\n\n## License\n\nMIT"
  },
  {
    "file": "Dockerfile",
    "content": "# Base image\nFROM python:3.9-slim\n\n# Install git, Chrome, and required dependencies\nRUN apt-get update && apt-get install -y \\\n    git \\\n    wget \\\n    gnupg2 \\\n    apt-transport-https \\\n    ca-certificates \\\n    chromium \\\n    chromium-driver\n\n# Clone the repository and set working directory\nRUN git clone https://github.com/phillipyan300/GitInsight.git\nWORKDIR /GitInsight/backend\n\n# Install dependencies\nRUN pip install --upgrade pip && \\\n    pip install -r requirements.txt\n\n# Set Chrome options for running in Docker\nENV CHROME_BIN=/usr/bin/chromium\nENV CHROMEDRIVER_PATH=/usr/bin/chromedriver\nENV PYTHONPATH=/GitInsight/backend\n\n# Expose port\nEXPOSE 8000\n\n# Run the app\nCMD [\"python\", \"app.py\"]"
  },
  {
    "file": "planning.txt",
    "content": "1. User inputs repo (backend parses repo with git ingest + repo at each commit; maybe just diffs)\n2. User enters query (how did function a change over time?). AI finds most relevant commit/diff and then does analysis\n3. Maybe does some sort of rag for extra context on repo? TBD. Returns the information to user\n4. Cooler if steps 2-3 done through voice (elevenlabs and openai whispr)\n\nWhy it's better than cursor:\n- Cursor only has context for couple files\n- Cursor only sees current code (not the choices made in commit)\n- Speaking is faster/more efficient.\n\nExtra: \n1. Get the commit messages (claim you can look back)\n\n\n\nNotes:\nCan't use full end to end integration elevenlabs (bc context window limitations for the API)\nProbably will need to do api call to gpt with context of the source code, then ask questions, and read out loud the response."
  },
  {
    "file": "requirements.txt",
    "content": "flask==3.0.2\nflask-cors==4.0.0\ngitingest==0.1.3"
  },
  {
    "file": "store.txt",
    "content": "from flask import Flask, request, jsonify\nfrom flask_cors import CORS\nimport logging\nimport json\nimport os\nfrom gitingest_scraper import ingest_repository\nfrom chat_pipeline import get_chat_response\n\n# Set up logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\napp = Flask(__name__)\nCORS(app)\n\n# Path for temporary storage\nTEMP_STORAGE_FILE = \"temp_context.json\"\n\ndef save_context(content, tree):\n    \"\"\"Save the current context to a temporary file\"\"\"\n    context = {\n        'content': content,\n        'tree': tree\n    }\n    with open(TEMP_STORAGE_FILE, 'w') as f:\n        json.dump(context, f)\n\ndef load_context():\n    \"\"\"Load the current context from temporary file\"\"\"\n    if not os.path.exists(TEMP_STORAGE_FILE):\n        return None\n    with open(TEMP_STORAGE_FILE, 'r') as f:\n        return json.load(f)\n\n@app.route('/ingest', methods=['POST'])\ndef ingest_from_web():\n    \"\"\"Ingest a repository and store its content\"\"\"\n    try:\n        data = request.get_json()\n        repo_url = data.get('url')\n        \n        if not repo_url:\n            return jsonify({'error': 'No URL provided'}), 400\n\n        result = ingest_repository(repo_url)\n        \n        if not result['success']:\n            return jsonify({\n                'success': False,\n                'error': result.get('error', 'Unknown error'),\n                'url': repo_url\n            }), 500\n            \n        # Save the context for later use\n        save_context(result['content'], result['tree'])\n            \n        return jsonify({\n            'success': True,\n            'url': repo_url,\n            'content': result['content'],\n            'tree': result['tree']\n        })\n        \n    except Exception as e:\n        logger.error(f\"Error in ingest endpoint: {str(e)}\")\n        return jsonify({\n            'success': False,\n            'error': str(e),\n            'url': repo_url\n        }), 500\n\n@app.route('/chat', methods=['POST'])\ndef chat():\n    \"\"\"Chat endpoint that uses stored context\"\"\"\n    print(\"wft\")\n    try:\n        data = request.get_json()\n        user_input = data.get('message')\n        \n        if not user_input:\n            return jsonify({'error': 'No message provided'}), 400\n            \n        # Load the stored context\n        context = load_context()\n        if not context:\n            return jsonify({'error': 'No context available. Please ingest a repository first.'}), 400\n            \n        # Combine content and tree for context\n        full_context = f\"Repository Content:\\n{context['content']}\\n\\nDirectory Structure:\\n{context['tree']}\"\n        \n        # Get chat response\n        result = get_chat_response(user_input, full_context)\n        \n        if not result['success']:\n            return jsonify({\n                'success': False,\n                'error': result.get('error', 'Failed to get chat response')\n            }), 500\n            \n        return jsonify({\n            'success': True,\n            'response': result['response']\n        })\n        \n    except Exception as e:\n        logger.error(f\"Error in chat endpoint: {str(e)}\")\n        return jsonify({\n            'success': False,\n            'error': str(e)\n        }), 500\n\n@app.route('/test')\ndef test():\n    \"\"\"Test endpoint using a sample repository\"\"\"\n    try:\n        test_url = \"https://github.com/phillipyan300/GitInsight\"\n        result = ingest_repository(test_url)\n        \n        if not result['success']:\n            return jsonify({\n                'success': False,\n                'error': result.get('error', 'Unknown error'),\n                'url_tested': test_url\n            }), 500\n        \n        # Save the context for later use\n        save_context(result['content'], result['tree'])\n        \n        return jsonify({\n            'success': True,\n            'url_tested': test_url,\n            'content': result['content'],\n            'tree': result['tree']\n        })\n            \n    except Exception as e:\n        logger.error(f\"Error in test endpoint: {str(e)}\")\n        return jsonify({\n            'success': False,\n            'error': str(e),\n            'url_tested': test_url\n        }), 500\n\n\n@app.route('/test-curl-get')\ndef test_curl_get():\n    \"\"\"Even simpler endpoint to test curl GET requests\"\"\"\n    logger.info(\"Received GET request to /test-curl-get\")\n    print(\"Received GET request to /test-curl-get\")  # Direct console output\n    return jsonify({\n        'success': True,\n        'message': 'GET request successful!'\n    })\n\n@app.route('/')\ndef hello_world():\n    return {'message': 'Hello, World!'}\n\nif __name__ == '__main__':\n    app.run(debug=True, port=5001)"
  },
  {
    "file": ".eslintrc.json",
    "content": "{\n  \"extends\": \"next/core-web-vitals\",\n  \"rules\": {\n    \"@typescript-eslint/no-unused-vars\": \"off\",\n    \"@typescript-eslint/no-explicit-any\": \"off\",\n    \"no-unused-vars\": \"off\"\n  }\n}"
  },
  {
    "file": "backend/app.py",
    "content": "from flask import Flask, request, jsonify\nfrom flask_cors import CORS\nimport logging\nimport json\nimport os\nfrom gitingest_scraper import ingest_repository\nfrom chat_pipeline import get_chat_response_sync as get_chat_response\n\n# Set up logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\napp = Flask(__name__)\nCORS(\n    app,\n    resources={\n        r\"/api/*\": {\n            \"origins\": [\"http://localhost:3000\", \"https://git-insight-five.vercel.app/\"],\n            \"methods\": [\"POST\", \"OPTIONS\"],\n            \"allow_headers\": [\"Content-Type\"],\n        }\n    },\n)\n# Path for temporary storage\nTEMP_STORAGE_FILE = \"temp_context.json\"\n\ndef save_context(content, tree):\n    \"\"\"\n    Save the repository context as an array of files.\n    \n    Expected format for each file section:\n      =================================================\n      File: <filename>\n      =================================================\n      <file content lines...>\n    \n    Args:\n        content (str): Raw content from gitingest.\n        tree (str): Directory structure from gitingest.\n    \"\"\"\n    lines = content.splitlines()\n    files = []\n    i = 0\n\n    while i < len(lines):\n        # Look for the delimiter line indicating a new file section\n        if lines[i].strip() == \"================================================\":\n            i += 1  # Move to the next line which should be the file header\n            if i < len(lines) and lines[i].startswith(\"File: \"):\n                # Extract file name\n                current_file = lines[i].replace(\"File: \", \"\").strip()\n                i += 1\n                # Skip the next delimiter line, if it exists\n                if i < len(lines) and lines[i].strip() == \"================================================\":\n                    i += 1\n                # Gather content lines until the next delimiter or end of file\n                current_content = []\n                while i < len(lines) and lines[i].strip() != \"================================================\":\n                    current_content.append(lines[i])\n                    i += 1\n                files.append({\n                    \"file\": current_file,\n                    \"content\": \"\\n\".join(current_content).strip()\n                })\n            else:\n                # If no file header is found, skip to the next line\n                i += 1\n        else:\n            i += 1\n\n    # Add tree structure as a special file entry\n    files.append({\n        \"file\": \"_directory_structure\",\n        \"content\": tree\n    })\n\n    # Save the result as a JSON array\n    with open(TEMP_STORAGE_FILE, \"w\") as f:\n        json.dump(files, f, indent=2)\n\n\ndef load_context():\n    \"\"\"Load the current context from temporary file\"\"\"\n    if not os.path.exists(TEMP_STORAGE_FILE):\n        return None\n    with open(TEMP_STORAGE_FILE, \"r\") as f:\n        return json.load(f)\n\n\n@app.route(\"/api/ingest\", methods=[\"POST\"])\ndef ingest_repo():\n    try:\n        data = request.get_json()\n        repo_url = data.get(\"url\")\n\n        if not repo_url:\n            return jsonify({\"error\": \"No URL provided\"}), 400\n\n        result = ingest_repository(repo_url)\n\n        if not result[\"success\"]:\n            return (\n                jsonify(\n                    {\"success\": False, \"error\": result.get(\"error\", \"Unknown error\")}\n                ),\n                400,\n            )\n\n        # Save the context for later use\n        save_context(result[\"content\"], result[\"tree\"])\n\n        return jsonify(result)\n\n    except Exception as e:\n        logger.error(f\"Error ingesting repository: {str(e)}\")\n        return jsonify({\"success\": False, \"error\": str(e)}), 500\n\n\n@app.route(\"/api/chat\", methods=[\"POST\"])\ndef chat():\n    \"\"\"Chat endpoint that uses stored context\"\"\"\n    try:\n        data = request.get_json()\n        message = data.get(\"message\")\n        repo_url = data.get(\"repo_url\")\n\n        if not message or not repo_url:\n            return (\n                jsonify(\n                    {\"success\": False, \"error\": \"Message and repo_url are required\"}\n                ),\n                400,\n            )\n\n        # Load the stored context\n        context = load_context()\n        if not context:\n            return (\n                jsonify(\n                    {\n                        \"success\": False,\n                        \"error\": \"No context available. Please ingest a repository first.\",\n                    }\n                ),\n                400,\n            )\n\n        # Combine content and tree for context\n        full_context = get_full_context(context)\n\n        # Get chat response using our chat pipeline\n        result = get_chat_response(message, full_context)\n\n        if not result[\"success\"]:\n            return (\n                jsonify(\n                    {\n                        \"success\": False,\n                        \"error\": result.get(\"error\", \"Failed to get chat response\"),\n                    }\n                ),\n                500,\n            )\n\n        return jsonify(\n            {\"success\": True, \"response\": result[\"response\"], \"repo_url\": repo_url}\n        )\n\n    except Exception as e:\n        logger.error(f\"Error in chat: {str(e)}\")\n        return jsonify({\"success\": False, \"error\": str(e)}), 500\n    \n@app.route(\"/hi\")\ndef hi():\n    return \"hi\"\n\n@app.route(\"/test\")\ndef test():\n    \"\"\"Test endpoint using a sample repository\"\"\"\n    try:\n        test_url = \"https://github.com/phillipyan300/GitInsight\"\n        result = ingest_repository(test_url)\n\n        if not result[\"success\"]:\n            return (\n                jsonify(\n                    {\n                        \"success\": False,\n                        \"error\": result.get(\"error\", \"Unknown error\"),\n                        \"url_tested\": test_url,\n                    }\n                ),\n                500,\n            )\n\n        # Save the context for later use\n        save_context(result[\"content\"], result[\"tree\"])\n\n        return jsonify(\n            {\n                \"success\": True,\n                \"url_tested\": test_url,\n                \"content\": result[\"content\"],\n                \"tree\": result[\"tree\"],\n            }\n        )\n\n    except Exception as e:\n        logger.error(f\"Error in test endpoint: {str(e)}\")\n        return jsonify({\"success\": False, \"error\": str(e), \"url_tested\": test_url}), 500\n\n\n@app.route(\"/test-curl-get\")\ndef test_curl_get():\n    \"\"\"Even simpler endpoint to test curl GET requests\"\"\"\n    logger.info(\"Received GET request to /test-curl-get\")\n    print(\"Received GET request to /test-curl-get\")  # Direct console output\n    return jsonify({\"success\": True, \"message\": \"GET request successful!\"})\n\n\n@app.route(\"/\")\ndef hello_world():\n    return {\"message\": \"Hello, World!\"}\n\n\ndef get_full_context(context):\n    \"\"\"\n    Convert context array into a single string for the AI.\n    \n    Args:\n        context (list): Array of file objects with 'file' and 'content' keys\n        \n    Returns:\n        str: Formatted string containing all files and their contents\n    \"\"\"\n    # Build context string\n    parts = []\n    \n    # First add all regular files\n    for file in context:\n        if file[\"file\"] != \"_directory_structure\":\n            parts.append(f\"File: {file['file']}\\n{file['content']}\")\n    \n    # Then add directory structure at the end\n    for file in context:\n        if file[\"file\"] == \"_directory_structure\":\n            parts.append(f\"Directory Structure:\\n{file['content']}\")\n            break\n    \n    return \"\\n\\n\".join(parts)\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True, port=8000)"
  },
  {
    "file": "backend/chat_pipeline.py",
    "content": "import google.generativeai as genai\nfrom dotenv import load_dotenv\nimport os\nimport logging\nimport asyncio\n\n# Configure logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n# Load environment variables\nload_dotenv()\n\n# Initialize Gemini client\napi_key = os.getenv('GOOGLE_API_KEY')\nif not api_key:\n    raise ValueError(\"GOOGLE_API_KEY not found in environment variables\")\n\ngenai.configure(api_key=api_key)\n\nasync def get_chat_response(text, context=\"\"):\n    \"\"\"Get a response from Gemini using chat format\"\"\"\n    try:\n        logger.info(\"Creating chat session with Gemini\")\n        \n        # Create chat session\n        model = genai.GenerativeModel('gemini-2.0-flash-thinking-exp')\n        chat = model.start_chat()\n        \n        # Format context as a structured message\n        context_msg = f\"\"\"You are a senior developer with experience in frontend and backend. I will show you a codebase. Please analyze it and help answer questions about it.\n        Keep responses under 100 words and reference specific code when relevant.\n        \n        Here is the codebase:\n        \n        {context}\n        \n        Please confirm you've received the codebase.\"\"\"\n        \n        # Send context and get response (remove await)\n        chat.send_message(context_msg)\n        \n        # Send the actual question and get response (remove await)\n        response = chat.send_message(text)\n        \n        logger.info(\"Received response from Gemini\")\n        return {\n            'success': True,\n            'response': response.text\n        }\n        \n    except Exception as e:\n        logger.error(f\"Gemini chat request failed: {str(e)}\")\n        return {\n            'success': False,\n            'error': str(e)\n        }\n\n# Synchronous wrapper for Flask\ndef get_chat_response_sync(text, context=\"\"):\n    \"\"\"Synchronous wrapper for get_chat_response\"\"\"\n    return asyncio.run(get_chat_response(text, context))\n\nif __name__ == \"__main__\":\n    # Test the chat pipeline\n    test_input = \"What are the key principles of clean code?\"\n    test_context = \"We are discussing software development best practices.\"\n    \n    logger.info(f\"Testing chat pipeline with input: {test_input}\")\n    result = get_chat_response_sync(test_input, test_context)\n    \n    if result['success']:\n        print(\"\\n=== Chat Response ===\")\n        print(result['response'])\n        print(\"\\n=== End of Response ===\")\n    else:\n        logger.error(f\"Test failed: {result['error']}\")\n\n\n\n# from openai import OpenAI\n# from dotenv import load_dotenv\n# import os\n# import logging\n\n# # Configure logging\n# logging.basicConfig(\n#     level=logging.INFO,\n#     format='%(asctime)s - %(levelname)s - %(message)s'\n# )\n# logger = logging.getLogger(__name__)\n\n# # Load environment variables\n# load_dotenv()\n\n# # Initialize OpenAI client\n# client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))\n\n# def get_chat_response(text, context=\"\"):\n#     \"\"\"\n#     Get a response from ChatGPT for the given text and context.\n    \n#     Args:\n#         text (str): The user's input text\n#         context (str): Optional context to help guide the response\n        \n#     Returns:\n#         dict: {\n#             'success': bool,\n#             'response': str,  # The chat response if successful\n#             'error': str     # Error message if not successful\n#         }\n#     \"\"\"\n#     try:\n#         logger.info(\"Sending request to ChatGPT\")\n        \n#         # System message sets up how the AI should approach the repository\n#         system_content = \"\"\"You are an AI assistant that:\n#         1. Specializes in analyzing and explaining code repositories\n#         2. Speaks in a natural, conversational way (as if having a friendly chat)\n#         3. References specific parts of the code when relevant\n#         4. Keeps responses clear and concise\n        \n#         When analyzing repositories:\n#         - Point out interesting patterns or design choices\n#         - Explain technical concepts in simple terms\n#         - Use examples from the actual codebase\n#         \"\"\"\n        \n#         # User message contains the specific question and repository context\n#         user_content = f\"\"\"Repository Context:\n#         {context}\n        \n#         User Question: {text}\"\"\"\n        \n#         response = client.chat.completions.create(\n#             model=\"gpt-3.5-turbo\",\n#             messages=[\n#                 {\"role\": \"system\", \"content\": system_content},\n#                 {\"role\": \"user\", \"content\": user_content}\n#             ]\n#         )\n        \n#         logger.info(\"Received response from ChatGPT\")\n#         return {\n#             'success': True,\n#             'response': response.choices[0].message.content\n#         }\n#     except Exception as e:\n#         logger.error(f\"ChatGPT request failed: {str(e)}\")\n#         return {\n#             'success': False,\n#             'error': str(e)\n#         }\n\n# if __name__ == \"__main__\":\n#     # Test the chat pipeline\n#     test_input = \"What are the key principles of clean code?\"\n#     test_context = \"We are discussing software development best practices.\"\n    \n#     logger.info(f\"Testing chat pipeline with input: {test_input}\")\n#     result = get_chat_response(test_input, test_context)\n    \n#     if result['success']:\n#         print(\"\\n=== Chat Response ===\")\n#         print(result['response'])\n#         print(\"\\n=== End of Response ===\")\n#     else:\n#         logger.error(f\"Test failed: {result['error']}\")"
  },
  {
    "file": "backend/gitingest_scraper.py",
    "content": "import logging\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.chrome.options import Options\nimport time\n\n# Configure logging to show info level messages\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n\ndef ingest_repository(repo_url, timeout=30):\n    \"\"\"\n    Scrapes a GitHub repository's content from gitingest.com\n\n    Args:\n        repo_url (str): URL of the GitHub repository to analyze\n        timeout (int): Maximum time to wait for page elements to load (default: 30s)\n\n    Returns:\n        dict: {\n            'success': bool,\n            'content': str,  # The full repository content digest\n            'tree': str,     # The directory structure\n            'error': str     # Only present if success is False\n        }\n    \"\"\"\n    driver = None\n    try:\n        # Convert GitHub URL to gitingest URL\n        gitingest_url = repo_url.replace(\"github.com\", \"gitingest.com\")\n        logger.info(f\"Fetching from: {gitingest_url}\")\n\n        # Setup Chrome browser options\n        chrome_options = Options()\n        chrome_options.add_argument(\"--headless\")  # Enable headless mode\n        chrome_options.add_argument(\"--no-sandbox\")\n        chrome_options.add_argument(\"--disable-dev-shm-usage\")\n        chrome_options.add_argument(\"--disable-gpu\")  # Sometimes needed for headless\n        chrome_options.add_argument(\n            \"--window-size=1920,1080\"\n        )  # Set a standard window size\n\n        # Initialize the Chrome driver\n        driver = webdriver.Chrome(options=chrome_options)\n\n        # Navigate to the gitingest page\n        driver.get(gitingest_url)\n\n        # Wait for both content elements to be present in the page\n        logger.info(\"Waiting for content to load...\")\n\n        # Find the main content textarea using its full class list\n        content_area = WebDriverWait(driver, timeout).until(\n            EC.presence_of_element_located(\n                (\n                    By.CSS_SELECTOR,\n                    \"textarea.result-text.w-full.p-4.bg-\\\\[\\\\#fff4da\\\\].border-\\\\[3px\\\\].border-gray-900.rounded.font-mono.text-sm.resize-y.focus\\\\:outline-none.relative.z-10\",\n                )\n            )\n        )\n\n        # Find the directory structure in the hidden input field\n        directory_structure = WebDriverWait(driver, timeout).until(\n            EC.presence_of_element_located((By.ID, \"directory-structure-content\"))\n        )\n\n        # Debug pause to visually verify the selected elements\n        # logger.info(\"Found content! Pausing for 100 seconds so you can see what's selected...\")\n        # time.sleep(100)\n\n        # Extract the text content and directory structure\n        content = content_area.text\n        tree = directory_structure.get_attribute(\"value\")\n\n        # Verify that content was actually retrieved\n        if not content.strip():\n            return {\"success\": False, \"error\": \"Content was empty\"}\n\n        logger.info(f\"Successfully retrieved content and directory structure\")\n        return {\"success\": True, \"content\": content, \"tree\": tree}\n\n    except Exception as e:\n        logger.error(f\"Error during ingestion: {str(e)}\")\n        return {\"success\": False, \"error\": str(e)}\n    finally:\n        # Always close the browser\n        if driver:\n            driver.quit()\n\n\nif __name__ == \"__main__\":\n    # Test the script with a sample repository\n    test_url = \"https://github.com/phillipyan300/GitInsight\"\n    result = ingest_repository(test_url)\n\n    if result[\"success\"]:\n        print(\"\\n=== Content Preview (first 100 chars) ===\")\n        print(result[\"content\"][:100])\n        print(\"\\n=== Directory Structure ===\")\n        print(result[\"tree\"])\n        print(\"\\n=== End of Test ===\")\n    else:\n        print(f\"Error: {result['error']}\")"
  },
  {
    "file": "backend/requirements.txt",
    "content": "pydantic>=2.0.0,<3.0.0\ngoogle-generativeai>=0.3.0\nflask[async]==3.0.2\nflask-cors==4.0.0\ngitingest==0.1.3\nselenium==4.18.1\nwebdriver-manager==4.0.1\nrequests==2.31.0\nbeautifulsoup4==4.12.3\npython-dotenv==1.0.0\nhttpx==0.24.1\nfastapi\nuvicorn"
  },
  {
    "file": "frontend/README.md",
    "content": "This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).\n\n## Getting Started\n\nFirst, run the development server:\n\n```bash\nnpm run dev\n# or\nyarn dev\n# or\npnpm dev\n# or\nbun dev\n```\n\nOpen [http://localhost:3000](http://localhost:3000) with your browser to see the result.\n\nYou can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.\n\nThis project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.\n\n## Learn More\n\nTo learn more about Next.js, take a look at the following resources:\n\n- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.\n- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.\n\nYou can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!\n\n## Deploy on Vercel\n\nThe easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.\n\nCheck out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details."
  },
  {
    "file": "frontend/components.json",
    "content": "{\n  \"$schema\": \"https://ui.shadcn.com/schema.json\",\n  \"style\": \"new-york\",\n  \"rsc\": true,\n  \"tsx\": true,\n  \"tailwind\": {\n    \"config\": \"tailwind.config.ts\",\n    \"css\": \"app/globals.css\",\n    \"baseColor\": \"neutral\",\n    \"cssVariables\": true,\n    \"prefix\": \"\"\n  },\n  \"aliases\": {\n    \"components\": \"@/components\",\n    \"utils\": \"@/lib/utils\",\n    \"ui\": \"@/components/ui\",\n    \"lib\": \"@/lib\",\n    \"hooks\": \"@/hooks\"\n  },\n  \"iconLibrary\": \"lucide\"\n}"
  },
  {
    "file": "frontend/eslint.config.mjs",
    "content": "import { dirname } from \"path\";\nimport { fileURLToPath } from \"url\";\nimport { FlatCompat } from \"@eslint/eslintrc\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n});\n\nconst eslintConfig = [\n  ...compat.extends(\"next/core-web-vitals\", \"next/typescript\"),\n];\n\nexport default eslintConfig;"
  },
  {
    "file": "frontend/next.config.ts",
    "content": "import type { NextConfig } from \"next\";\n\nconst nextConfig: NextConfig = {\n  /* config options here */\n};\n\nexport default nextConfig;"
  },
  {
    "file": "frontend/package.json",
    "content": "{\n  \"name\": \"frontend\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev --turbopack\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\"\n  },\n  \"dependencies\": {\n    \"@ai-sdk/openai\": \"^1.1.11\",\n    \"@radix-ui/react-scroll-area\": \"^1.2.3\",\n    \"@radix-ui/react-separator\": \"^1.1.2\",\n    \"@radix-ui/react-slot\": \"^1.1.2\",\n    \"ai\": \"^4.1.41\",\n    \"class-variance-authority\": \"^0.7.1\",\n    \"clsx\": \"^2.1.1\",\n    \"elevenlabs\": \"^1.51.0\",\n    \"install\": \"^0.13.0\",\n    \"lucide-react\": \"^0.475.0\",\n    \"next\": \"15.1.7\",\n    \"npm\": \"^11.1.0\",\n    \"react\": \"^19.0.0\",\n    \"react-dom\": \"^19.0.0\",\n    \"tailwind-merge\": \"^3.0.1\",\n    \"tailwindcss-animate\": \"^1.0.7\"\n  },\n  \"devDependencies\": {\n    \"@eslint/eslintrc\": \"^3\",\n    \"@types/node\": \"^20\",\n    \"@types/react\": \"^19\",\n    \"@types/react-dom\": \"^19\",\n    \"eslint\": \"^9\",\n    \"eslint-config-next\": \"15.1.7\",\n    \"postcss\": \"^8\",\n    \"tailwindcss\": \"^3.4.1\",\n    \"typescript\": \"^5\"\n  }\n}"
  },
  {
    "file": "frontend/postcss.config.mjs",
    "content": "/** @type {import('postcss-load-config').Config} */\nconst config = {\n  plugins: {\n    tailwindcss: {},\n  },\n};\n\nexport default config;"
  },
  {
    "file": "frontend/tailwind.config.js",
    "content": "module.exports = {\n  darkMode: [\"class\"],\n  content: [\n    \"./pages/**/*.{ts,tsx}\",\n    \"./components/**/*.{ts,tsx}\",\n    \"./app/**/*.{ts,tsx}\",\n    \"./src/**/*.{ts,tsx}\",\n    \"*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: 0 },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: 0 },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\")],\n}"
  },
  {
    "file": "frontend/tailwind.config.ts",
    "content": "import type { Config } from \"tailwindcss\";\n\nexport default {\n    darkMode: [\"class\"],\n    content: [\n    \"./pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./app/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  theme: {\n   extend: {\n    colors: {\n     background: 'hsl(var(--background))',\n     foreground: 'hsl(var(--foreground))',\n     card: {\n      DEFAULT: 'hsl(var(--card))',\n      foreground: 'hsl(var(--card-foreground))'\n     },\n     popover: {\n      DEFAULT: 'hsl(var(--popover))',\n      foreground: 'hsl(var(--popover-foreground))'\n     },\n     primary: {\n      DEFAULT: 'hsl(var(--primary))',\n      foreground: 'hsl(var(--primary-foreground))'\n     },\n     secondary: {\n      DEFAULT: 'hsl(var(--secondary))',\n      foreground: 'hsl(var(--secondary-foreground))'\n     },\n     muted: {\n      DEFAULT: 'hsl(var(--muted))',\n      foreground: 'hsl(var(--muted-foreground))'\n     },\n     accent: {\n      DEFAULT: 'hsl(var(--accent))',\n      foreground: 'hsl(var(--accent-foreground))'\n     },\n     destructive: {\n      DEFAULT: 'hsl(var(--destructive))',\n      foreground: 'hsl(var(--destructive-foreground))'\n     },\n     border: 'hsl(var(--border))',\n     input: 'hsl(var(--input))',\n     ring: 'hsl(var(--ring))',\n     chart: {\n      '1': 'hsl(var(--chart-1))',\n      '2': 'hsl(var(--chart-2))',\n      '3': 'hsl(var(--chart-3))',\n      '4': 'hsl(var(--chart-4))',\n      '5': 'hsl(var(--chart-5))'\n     }\n    },\n    borderRadius: {\n     lg: 'var(--radius)',\n     md: 'calc(var(--radius) - 2px)',\n     sm: 'calc(var(--radius) - 4px)'\n    }\n   }\n  },\n  plugins: [require(\"tailwindcss-animate\")],\n} satisfies Config;"
  },
  {
    "file": "frontend/tsconfig.json",
    "content": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2017\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"incremental\": true,\n    \"plugins\": [\n      {\n        \"name\": \"next\"\n      }\n    ],\n    \"paths\": {\n      \"@/*\": [\"./*\"]\n    }\n  },\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\n  \"exclude\": [\"node_modules\"]\n}"
  },
  {
    "file": "frontend/types.d.ts",
    "content": "interface SpeechRecognitionErrorEvent extends Event {\n  error: string\n}\n\ninterface SpeechRecognitionEvent extends Event {\n  results: SpeechRecognitionResultList\n}\n\ninterface SpeechRecognitionResultList {\n  [index: number]: SpeechRecognitionResult\n}\n\ninterface SpeechRecognitionResult {\n  [index: number]: SpeechRecognitionAlternative\n}\n\ninterface SpeechRecognitionAlternative {\n  transcript: string\n  confidence: number\n}\n\ninterface SpeechRecognition extends EventTarget {\n  continuous: boolean\n  interimResults: boolean\n  onresult: (event: SpeechRecognitionEvent) => void\n  onerror: (event: SpeechRecognitionErrorEvent) => void\n  onend: () => void\n  start: () => void\n  stop: () => void\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition: { new(): SpeechRecognition }\n    webkitSpeechRecognition: { new(): SpeechRecognition }\n  }\n}\n\nexport type { SpeechRecognition, SpeechRecognitionEvent }"
  },
  {
    "file": "frontend/.gitignore",
    "content": "# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.\n\n# dependencies\n/node_modules\n/.pnp\n.pnp.*\n.yarn/*\n!.yarn/patches\n!.yarn/plugins\n!.yarn/releases\n!.yarn/versions\n\n# testing\n/coverage\n\n# next.js\n/.next/\n/out/\n\n# production\n/build\n\n# misc\n.DS_Store\n*.pem\n\n# debug\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n.pnpm-debug.log*\n\n# env files (can opt-in for committing if needed)\n.env*\n\n# vercel\n.vercel\n\n# typescript\n*.tsbuildinfo\nnext-env.d.ts"
  },
  {
    "file": "frontend/app/globals.css",
    "content": "@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n  background-color: #fffdf7;\n}\n\n@layer base {\n  :root {\n    --background: 60 100% 99%;\n    --foreground: 0 0% 3.9%;\n    --card: 0 0% 100%;\n    --card-foreground: 0 0% 3.9%;\n    --popover: 0 0% 100%;\n    --popover-foreground: 0 0% 3.9%;\n    --primary: 0 0% 9%;\n    --primary-foreground: 0 0% 98%;\n    --secondary: 0 0% 96.1%;\n    --secondary-foreground: 0 0% 9%;\n    --muted: 0 0% 96.1%;\n    --muted-foreground: 0 0% 45.1%;\n    --accent: 0 0% 96.1%;\n    --accent-foreground: 0 0% 9%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 0 0% 89.8%;\n    --input: 0 0% 89.8%;\n    --ring: 0 0% 3.9%;\n    --chart-1: 12 76% 61%;\n    --chart-2: 173 58% 39%;\n    --chart-3: 197 37% 24%;\n    --chart-4: 43 74% 66%;\n    --chart-5: 27 87% 67%;\n    --radius: 0.5rem;\n  }\n\n  .dark {\n    --background: 0 0% 3.9%;\n    --foreground: 0 0% 98%;\n    --card: 0 0% 3.9%;\n    --card-foreground: 0 0% 98%;\n    --popover: 0 0% 3.9%;\n    --popover-foreground: 0 0% 98%;\n    --primary: 0 0% 98%;\n    --primary-foreground: 0 0% 9%;\n    --secondary: 0 0% 14.9%;\n    --secondary-foreground: 0 0% 98%;\n    --muted: 0 0% 14.9%;\n    --muted-foreground: 0 0% 63.9%;\n    --accent: 0 0% 14.9%;\n    --accent-foreground: 0 0% 98%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 0 0% 14.9%;\n    --input: 0 0% 14.9%;\n    --ring: 0 0% 83.1%;\n    --chart-1: 220 70% 50%;\n    --chart-2: 160 60% 45%;\n    --chart-3: 30 80% 55%;\n    --chart-4: 280 65% 60%;\n    --chart-5: 340 75% 55%;\n  }\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply bg-background text-foreground;\n  }\n}"
  },
  {
    "file": "frontend/app/layout.tsx",
    "content": "import type { Metadata } from \"next\";\nimport { Inter } from 'next/font/google'\nimport \"./globals.css\";\n\nconst inter = Inter({ subsets: ['latin'] })\n\nexport const metadata: Metadata = {\n  title: \"GitInsights\",\n  description: \"Ask questions about any GitHub repository using text or voice.\",\n  icons: {\n    icon: '/GitInsightsLogo.png', \n    shortcut: '/GitInsightsLogo.png',\n    apple: '/GitInsightsLogo.png',\n  },\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\" className={inter.className}>\n      <body>{children}</body>\n    </html>\n  );\n}"
  },
  {
    "file": "frontend/app/page.tsx",
    "content": "\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Card, CardContent, CardFooter, CardHeader } from \"@/components/ui/card\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { ingestRepository, sendChatMessage } from \"@/lib/api\"\nimport { Send, Mic, MicOff } from \"lucide-react\"\nimport type { Message, RepoContent } from \"@/lib/types\"\n// import { ElevenLabsClient } from \"elevenlabs\"\nimport type { SpeechRecognition, SpeechRecognitionEvent } from \"@/types\"\n\nexport default function Home() {\n  const [repoUrl, setRepoUrl] = useState(\"\")\n  const [repoContent, setRepoContent] = useState<RepoContent | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [messages, setMessages] = useState<Message[]>([])\n  const [input, setInput] = useState(\"\")\n  const [isListening, setIsListening] = useState(false)\n  const [recognition, setRecognition] = useState<SpeechRecognition | null>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const transcriptRef = useRef(\"\")\n  const submitButtonRef = useRef<HTMLButtonElement>(null)\n  const [isPlaying, setIsPlaying] = useState(false)\n  const audioRef = useRef<HTMLAudioElement | null>(null)\n  const scrollAreaRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      // Speech Recognition setup\n      if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\n        const recognitionInstance = new SpeechRecognition()\n        recognitionInstance.continuous = false\n        recognitionInstance.interimResults = false\n\n        recognitionInstance.onresult = (event: SpeechRecognitionEvent) => {\n          const transcript = event.results[0][0].transcript\n          transcriptRef.current = transcript\n          setInput(transcript)\n        }\n\n        recognitionInstance.onerror = () => setIsListening(false)\n        \n        recognitionInstance.onend = () => {\n          setIsListening(false)\n          if (transcriptRef.current.trim()) {\n            submitButtonRef.current?.click()\n          }\n        }\n\n        setRecognition(recognitionInstance)\n      }\n    }\n  }, [])\n\n  // Focus input when repo is loaded\n  useEffect(() => {\n    if (repoContent) {\n      inputRef.current?.focus()\n    }\n  }, [repoContent])\n\n  // Add this effect to scroll to bottom when messages change\n  useEffect(() => {\n    if (scrollAreaRef.current) {\n      scrollAreaRef.current.scrollTop = scrollAreaRef.current.scrollHeight\n    }\n  }, [messages])\n\n  const toggleListening = () => {\n    if (!recognition) return\n\n    if (isListening) {\n      recognition.stop()\n    } else {\n      recognition.start()\n    }\n    setIsListening(!isListening)\n  }\n\n  const speakMessage = async (text: string) => {\n    try {\n      setIsPlaying(true);\n      \n      const response = await fetch(\"https://api.elevenlabs.io/v1/text-to-speech/JBFqnCBsd6RMkjVDRZzb\", {\n        method: \"POST\",\n        headers: {\n          \"xi-api-key\": process.env.NEXT_PUBLIC_ELEVENLABS_API_KEY!,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          text,\n          model_id: \"eleven_multilingual_v2\",\n        }),\n      });\n  \n      if (!response.ok) throw new Error(\"Failed to fetch audio\");\n  \n      const audioBlob = await response.blob();\n      const url = URL.createObjectURL(audioBlob);\n      const audioElement = new Audio(url);\n      audioRef.current = audioElement;\n      \n      audioElement.onended = () => {\n        URL.revokeObjectURL(url);\n        setIsPlaying(false);\n        audioRef.current = null;\n      };\n  \n      await audioElement.play();\n    } catch (error) {\n      console.error(\"Text-to-speech failed:\", error);\n      setIsPlaying(false);\n      audioRef.current = null;\n    }\n  };\n\n  const handleChatSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    if (!input.trim() || !repoUrl) return\n\n    const userMessage: Message = { role: \"user\", content: input }\n    setMessages(prev => [...prev, userMessage])\n    const currentInput = input // Store current input\n    setInput(\"\")\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const response = await sendChatMessage(currentInput, repoUrl)\n      if (response.success) {\n        const aiMessage: Message = {\n          role: \"assistant\",\n          content: response.response\n        }\n        setMessages(prev => [...prev, aiMessage])\n        await speakMessage(response.response)\n      } else {\n        throw new Error(response.error || 'Failed to get response')\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Failed to send message'\n      setError(errorMessage)\n      setMessages(prev => [...prev, {\n        role: \"assistant\",\n        content: `Error: ${errorMessage}`\n      }])\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleRepoSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const result = await ingestRepository(repoUrl)\n      setRepoContent(result)\n      setMessages([{\n        role: \"assistant\",\n        content: `Repository ingested successfully! I'm ready to chat about the repository: ${repoUrl}. What would you like to know?`\n      }])\n    } catch (error) {\n      setError(error instanceof Error ? error.message : 'An error occurred')\n      setRepoContent(null)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const stopSpeaking = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      setIsPlaying(false);\n      audioRef.current = null;\n    }\n  }\n\n  return (\n    <main className=\"container flex flex-col items-center min-h-screen py-24 gap-8\">\n      <div className=\"text-center space-y-4\">\n        <h1 className=\"text-6xl font-bold tracking-tight\">\n          GitInsights\n        </h1>\n        <p className=\"text-xl text-muted-foreground\">\n          Ask questions about any GitHub repository using text or voice.\n        </p>\n      </div>\n\n      <Card className=\"w-full max-w-3xl bg-[#fffbf0] border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\">\n        <CardHeader>\n          <form onSubmit={handleRepoSubmit} className=\"flex gap-2\">\n            <Input\n              className=\"border-2 border-black bg-white\"\n              placeholder=\"https://github.com/...\"\n              value={repoUrl}\n              onChange={(e) => setRepoUrl(e.target.value)}\n            />\n            <Button \n              type=\"submit\"\n              className=\"bg-[#ffd698] text-black border-2 border-black hover:bg-[#ffc570]\"\n              disabled={isLoading}\n            >\n              {isLoading ? \"Loading...\" : \"Analyze\"}\n            </Button>\n          </form>\n          <div className=\"mt-4 space-y-2\">\n            <p className=\"text-sm text-muted-foreground\">Try these examples:</p>\n            <div className=\"flex flex-wrap gap-2\">\n              <Button\n                variant=\"outline\"\n                className=\"bg-[#f5e6d3] border-2 border-black hover:bg-[#f0d9bf]\"\n                onClick={() => setRepoUrl(\"https://github.com/phillipyan300/GitInsight\")}\n              >\n                GitInsight\n              </Button>\n              <Button\n                variant=\"outline\"\n                className=\"bg-[#f5e6d3] border-2 border-black hover:bg-[#f0d9bf]\"\n                onClick={() => setRepoUrl(\"https://github.com/ssocolow/flare_insure\")}\n              >\n                Flare Insure\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <ScrollArea \n            ref={scrollAreaRef} \n            className=\"h-[450px] w-full rounded-md border p-6\"\n          >\n            {error && (\n              <div className=\"text-red-500 mb-6 p-4 bg-red-50 rounded-md\">\n                Error: {error}\n              </div>\n            )}\n            {repoContent && (\n              <div className=\"space-y-6\">\n                <div className=\"text-green-600 font-medium p-4 bg-green-50 rounded-md\">\n                  Repository was ingested successfully!\n                </div>\n                <div className=\"space-y-6\">\n                  {messages.map((message, i) => (\n                    <div key={i} className=\"space-y-2 py-4\">\n                      {message.role === 'user' ? (\n                        <div className=\"space-y-2\">\n                          <span className=\"font-semibold text-blue-600\">You: </span>\n                          <p className=\"text-gray-700\">{message.content}</p>\n                        </div>\n                      ) : (\n                        <div className=\"space-y-2\">\n                          <span className=\"font-semibold text-purple-600\">GitInsights: </span>\n                          <p className=\"text-gray-700\">{message.content}</p>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </ScrollArea>\n        </CardContent>\n        {repoContent && (\n          <CardFooter className=\"pt-6\">\n            <form onSubmit={handleChatSubmit} className=\"flex w-full space-x-4\">\n              <Input\n                ref={inputRef}\n                placeholder=\"Ask a question about the repository...\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                disabled={isLoading}\n                className=\"text-lg\"\n              />\n              <div className=\"flex space-x-2\">\n                <Button \n                  ref={submitButtonRef}\n                  type=\"submit\" \n                  disabled={isLoading}\n                  className=\"px-6\"\n                >\n                  <Send className=\"h-4 w-4 mr-2\" />\n                  {isLoading ? \"Sending...\" : \"Send\"}\n                </Button>\n                <Button\n                  type=\"button\"\n                  onClick={toggleListening}\n                  variant={isListening ? \"destructive\" : \"default\"}\n                  className=\"px-4\"\n                >\n                  {isListening ? (\n                    <MicOff className=\"h-4 w-4\" />\n                  ) : (\n                    <Mic className=\"h-4 w-4\" />\n                  )}\n                </Button>\n                <Button\n                  type=\"button\"\n                  onClick={stopSpeaking}\n                  variant=\"outline\"\n                  className=\"px-4\"\n                  disabled={!isPlaying}\n                >\n                  <span className=\"sr-only\">Stop Speaking</span>\n                  <div className=\"w-4 h-4 bg-red-500 rounded-full\" />\n                </Button>\n              </div>\n            </form>\n          </CardFooter>\n        )}\n      </Card>\n    </main>\n  )\n}"
  },
  {
    "file": "frontend/components/ui/button.tsx",
    "content": "import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all active:translate-y-[1px] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-[#ffd698] text-black border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:bg-[#ffc570]\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }"
  },
  {
    "file": "frontend/components/ui/card.tsx",
    "content": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }"
  },
  {
    "file": "frontend/components/ui/input.tsx",
    "content": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }"
  },
  {
    "file": "frontend/components/ui/scroll-area.tsx",
    "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }"
  },
  {
    "file": "frontend/components/ui/separator.tsx",
    "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }"
  },
  {
    "file": "frontend/hooks/useElevenLabs.ts",
    "content": "import { useMemo } from 'react'\nimport { ElevenLabsClient } from 'elevenlabs'\n\nexport function useElevenLabs() {\n  const client = useMemo(() => new ElevenLabsClient({\n    apiKey: process.env.NEXT_PUBLIC_ELEVENLABS_API_KEY as string\n  }), [])\n  \n  return client\n}"
  },
  {
    "file": "frontend/lib/api.ts",
    "content": "const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\nexport async function ingestRepository(url: string) {\n    const response = await fetch(`${API_URL}/api/ingest`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ url }),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok || !data.success) {\n        throw new Error(data.error || 'Failed to ingest repository');\n    }\n\n    return data;\n}\n\nexport async function sendChatMessage(message: string, repo_url: string) {\n    const response = await fetch(`${API_URL}/api/chat`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ message, repo_url }),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n        throw new Error(data.error || 'Failed to send message');\n    }\n\n    if (!data.success) {\n        throw new Error(data.error || 'Failed to get response');\n    }\n\n    return data;\n}"
  },
  {
    "file": "frontend/lib/types.ts",
    "content": "export interface Message {\n    role: \"user\" | \"assistant\"\n    content: string\n}\n\nexport interface RepoContent {\n    success: boolean\n    content: string\n    tree: string\n    error?: string\n}"
  },
  {
    "file": "frontend/lib/utils.ts",
    "content": "import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}"
  },
  {
    "file": "_directory_structure",
    "content": "Directory structure:\n\u2514\u2500\u2500 phillipyan300-gitinsight/\n    \u251c\u2500\u2500 README.md\n    \u251c\u2500\u2500 Dockerfile\n    \u251c\u2500\u2500 planning.txt\n    \u251c\u2500\u2500 requirements.txt\n    \u251c\u2500\u2500 store.txt\n    \u251c\u2500\u2500 .eslintrc.json\n    \u251c\u2500\u2500 backend/\n    \u2502   \u251c\u2500\u2500 app.py\n    \u2502   \u251c\u2500\u2500 chat_pipeline.py\n    \u2502   \u251c\u2500\u2500 gitingest_scraper.py\n    \u2502   \u251c\u2500\u2500 requirements.txt\n    \u2502   \u251c\u2500\u2500 temp_context.json\n    \u2502   \u2514\u2500\u2500 __pycache__/\n    \u2514\u2500\u2500 frontend/\n        \u251c\u2500\u2500 README.md\n        \u251c\u2500\u2500 components.json\n        \u251c\u2500\u2500 eslint.config.mjs\n        \u251c\u2500\u2500 next.config.ts\n        \u251c\u2500\u2500 package-lock.json\n        \u251c\u2500\u2500 package.json\n        \u251c\u2500\u2500 postcss.config.mjs\n        \u251c\u2500\u2500 tailwind.config.js\n        \u251c\u2500\u2500 tailwind.config.ts\n        \u251c\u2500\u2500 tsconfig.json\n        \u251c\u2500\u2500 types.d.ts\n        \u251c\u2500\u2500 .gitignore\n        \u251c\u2500\u2500 app/\n        \u2502   \u251c\u2500\u2500 globals.css\n        \u2502   \u251c\u2500\u2500 layout.tsx\n        \u2502   \u2514\u2500\u2500 page.tsx\n        \u251c\u2500\u2500 components/\n        \u2502   \u2514\u2500\u2500 ui/\n        \u2502       \u251c\u2500\u2500 button.tsx\n        \u2502       \u251c\u2500\u2500 card.tsx\n        \u2502       \u251c\u2500\u2500 input.tsx\n        \u2502       \u251c\u2500\u2500 scroll-area.tsx\n        \u2502       \u2514\u2500\u2500 separator.tsx\n        \u251c\u2500\u2500 hooks/\n        \u2502   \u2514\u2500\u2500 useElevenLabs.ts\n        \u251c\u2500\u2500 lib/\n        \u2502   \u251c\u2500\u2500 api.ts\n        \u2502   \u251c\u2500\u2500 types.ts\n        \u2502   \u2514\u2500\u2500 utils.ts\n        \u2514\u2500\u2500 public/\n"
  }
]